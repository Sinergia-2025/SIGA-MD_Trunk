
print 'Actualizo Funciones Habilitadas para Express'
update funciones 
set Express = 'S'
where id in (
'ExportacionCitiCompras'
,'ExportacionCitiVentas'
,'ExportacionLibIvaDigCompras'
,'ExportacionLibIvaDigVentas'
,'PosicionDeIVA'
,'PeriodosFiscalesABM'
,'InfPercepcionesCompras'
,'InfRetenciones'
,'RegimenesABM'
,'EscalasRetGananciasABM'
,'CategoriasFiscalesABM'
,'ImpuestosABM'
,'TiposImpuestosABM'
,'ActividadesABM'
,'EmpresaActividades'
,'PaisesABM'
,'ProvinciasABM'
,'Categorias'
,'CategoriasProveedoresABM'
,'Clientes'
,'ConsultaClientes'
,'ContactosABM'
,'Empleados'
,'EstadosClientesABM'
,'EstadosVentaABM'
,'FormasPago'
,'Vehiculos'
,'InteresesABM'
,'Localidades'
,'ModelosVehiculos'
,'Marcas'
,'MediosdePagoABM'
,'ObservacionesABM'
,'Productos'
,'ProductosSucursales'
,'ProspectosABM'
,'Proveedores'
,'ProveedoresConsultas'
,'Rubros'
,'SubRubrosABM'
,'Sucursales'
,'TarjetasABM'
,'PlanesTarjetasABM'
,'ProductosABM'
,'Transportistas'
,'TransportistasConsultas'
,'UnidadesDeMedidas'
,'ZonasGeograficas'
,'ProductosActualizacionMasiva'
,'ProductosBajaMasiva'
,'InfAuditoriaClientes'
,'InfAuditoriaProductos'
,'TiposMovimientosABM'
,'TiposAdjuntosABM'
,'TiposClientesABM'
,'TiposContactosABM'
,'TiposDoc'
,'TiposVehiculosABM'
,'LibroBancos'
,'InfMovimientosBancarios'
,'CuentasBancos'
,'Bancos ABM'
,'CuentasBancarias'
,'ConsultarSaldosDeLibrosBancos'
,'DepositosBancarios'
,'AnularDepositos'
,'ConsultarDepositos'
,'PlanillaDeCaja'
,'CerrarPlanillaDeCaja'
,'CajasNombresABM'
,'ConsultarMovimientosCaja'
,'ResumenDeCaja'
,'MayorDeCuentaDeCaja'
,'CuentasDeCajas'
,'ChequesDeTercerosABM'
,'InformeChequesDeTerceros'
,'InfChequesADepositar'
,'InformeHistoricoCheques'
,'ChequesPropios'
,'InformeChequesPropios'
,'ConsultarPlanillas'
,'InfTarjetasCupones'
,'InfHistoricoTarjetasCupones'
,'ChequesMovimientosSucursales'
,'ProductosCalidadABM'
,'Categoria-NivelAutorizacion'
,'Clientes-NivelAutorizacion'
,'InfTotalVentasPorVendedor'
,'InfTotalMarcasVtasPorVendedor'
,'InfDetalleVentasPorVendedor'
,'MovimientosDeComprasV2'
,'LibrodeIvaCompras'
,'LibrodeIvaComprasV2'
,'ResumenPorComprobanteCompras'
,'ConsultarCompras'
,'InfComprasDetallePorProductos'
,'ModificarCompras'
,'EliminarCompras'
,'RubrosCompras'
,'Impresoras'
,'Parametros'
,'ParametrosDelUsuario'
,'ParametrosSucursalesABM'
,'ImpresorasAComprobantes'
,'ImpresorasAComprobantesABM'
,'PersonalizacionDeInformes'
,'ArchivosAImprimirABM'
,'SemaforoVentasUtilidadesABM'
,'ConfiguracionServiciosSSS'
,'UsuariosConfiguraciones'
,'NumeradoresABM'
,'AnulacionRecibosAClientes'
,'EliminarMovCtaCteClientes'
,'EliminarRecibosDeClientes'
,'ModificarComprobantesDeCtaCte'
,'InfCtaCteDetalleClientes'
,'InfCtaCteDetalleProximoPago'
,'ConsultarCtaCteDetClientesDH'
,'RecibosNuevos'
,'RecibosVinculados'
,'GenerarMinutas'
,'SaldosCtaCteClientes'
,'InfCtaCteClientes'
,'ConsultarCtaCteClientesDH'
,'Kardex'
,'ConsultarRecibosAClientes'
,'InfTarjetasRecibos'
,'RegistrarMovCtaCteClientes'
,'ImportarCtasCtesClientes'
,'ConsultaNumeracionCtaCte'
,'PagosAProveedores'
,'AnularPagosAProveedores'
,'SaldosCtaCteProveedores'
,'ConsultarCtaCteProveedores'
,'InfCtaCteProveedores'
,'InfComprobCtaCteProvFecha'
,'ConsultarCtaCteProveedoresDH'
,'ConsultarCtaCteDetalleProv'
,'InfCtaCteDetalleProveedores'
,'ConsultarCtaCteDetProveedorDH'
,'KardexProveedores'
,'ConsultarPagosAProveedores'
,'RegistrarMovCtaCteProveedores'
,'EliminarMovCtaCteProveedores'
,'ImportarCtasCtesProveedores'
,'Empleados-NivelAutorizacion'
,'SolicitarCAE'
,'ConsultarUltimoComprobante'
,'ConsultarComprobantesEmitidos'
,'ConsultarCAE'
,'ConsultarCAI'
,'ConsultarTablasAFIP'
,'TesteaServidoresAFIP'
,'ImportarFichas'
,'InfKilosTotalesPorVendedor'
,'InfKilosTotalesPorCliente'
,'InfKilosTotalesPorMarcas'
,'InfKilosDetallePorProductos'
,'PedidosClientesV2'
,'ConsultarPedidos'
,'AnularPedidos'
,'EliminarPedidos'
,'PedidosAdmin'
,'EstadosPedidosABM'
,'InfPedidosDetallados'
,'InfPedidosFacturados'
,'PedidosProveedores'
,'ConsultarPedidosProv'
,'AnularPedidosProv'
,'PedidosAdminProv'
,'EstadosPedidosProvABM'
,'InfPedidosDetalladosProv'
,'ActualizarPreciosV2'
,'ConsultarPrecios'
,'ListaDeCostos'
,'ListaDePrecios'
,'ListaDePreciosABM'
,'ListaDePreciosParaClientes'
,'ClientesListaDePreciosMarca'
,'ConsultarClienteMarcaLDePrecio'
,'EmisionDeEtiquetasDePrecios'
,'InformeDescuentosMarcas'
,'ClientesDescuentosMarcasGrilla'
,'ClientesDescuentosSubRubros'
,'InformeDescuentosProductos'
,'ClientesDescuentosMarcas'
,'PlantillasPreciosABM'
,'FormatosEtiquetasABM'
,'Tareas'
,'ProductoCambiarCod'
,'CambiarCodCliente'
,'ConsultarCodigosLibres'
,'ProveedorCambiarCod'
,'ProductoUnificarCodigos'
,'ProductoCopiarCod'
,'ImportarClientesExcel'
,'ImportarClientesContactosExcel'
,'ImportarProductosExcel'
,'ImportarProductosExcelListMult'
,'ImportarProdPlantillaExcel'
,'ImportarProveedoresExcel'
,'EnvioMasivoDeCorreos'
,'Proveedores-NivelAutorizacion'
,'SegFunciones'
,'SegRoles'
,'SegUsuarios'
,'SegFunRol'
,'SegUsuRol'
,'ConsultaRolesDeUsuarios'
,'Backups'
,'InfAccesosDeUsuarios'
,'MovimientosDeStock'
,'DetalleMovimientosDeProductos'
,'InfResumenMovimDeProductos'
,'InformedeStock'
,'InfStockPorModelo'
,'AjusteMasivoDeStock'
,'LimpiarStock'
,'BlanquearStock'
,'Sucursales-LimpiaSucursal'
,'FacturacionV2'
,'FacturacionRapida'
,'ImpresionMasiva'
,'InformeDeVentas'
,'ConsultarFacturables'
,'ConsultarFacturablesDetalle'
,'ImpresionTicketFiscal'
,'InfTarjetasPorVentas'
,'InfVentasSumaPorProductos'
,'InfVentasSumaPorRubros'
,'InfVentasSumaPorMarcas'
,'InfVentasDetallePorProductos'
,'ConsultaNumeracionVentas'
,'Kilos'
,'AnularComprobantes'
,'AnularComprobantesSinEmitir'
,'ModificarNumeracionVentas'
,'LibrodeIvaVentas'
,'InfResumenDeVentas'
,'CierreZ'
,'InfUtilidadesPorMarca'
,'InfUtilidadesPorProducto'
,'AFIP'
,'Archivos'
,'ArchivosActualiazMasivas'
,'ArchivosAuditorias'
,'ArchivosTipos'
,'Bancos'
,'Caja'
,'Calidad'
,'Categorias'
,'Clientes'
,'ComisionesVendedores'
,'Compras'
,'Configuraciones'
,'CtaCteAnulModifElim'
,'CtaCteListVencimiento'
,'CuentasCorrientes'
,'CuentasCorrientesProveedores'
,'Empleados'
,'FacturacionElectronica'
,'Fichas'
,'Kilos'
,'Pedidos'
,'PedidosProv'
,'Precios'
,'Procesos'
,'Proveedores'
,'Seguridad'
,'Stock'
,'Sucursales'
,'Ventas'
,'VentasAnulModifElim'
,'VentasFiscal'
,'VentasUtilidades'
,'FacturacionRapidaSuper'
,'Parametros'
,'TiposComprobantesABM'
)

--select * from Funciones
--where id in (
--'ExportacionCitiCompras'
--,'ExportacionCitiVentas'
--,'ExportacionLibIvaDigCompras'
--,'ExportacionLibIvaDigVentas'
--,'PosicionDeIVA'
--,'PeriodosFiscalesABM'
--,'InfPercepcionesCompras'
--,'InfRetenciones'
--,'RegimenesABM'
--,'EscalasRetGananciasABM'
--,'CategoriasFiscalesABM'
--,'ImpuestosABM'
--,'TiposImpuestosABM'
--,'ActividadesABM'
--,'EmpresaActividades'
--,'PaisesABM'
--,'ProvinciasABM'
--,'Categorias'
--,'CategoriasProveedoresABM'
--,'Clientes'
--,'ConsultaClientes'
--,'ContactosABM'
--,'Empleados'
--,'EstadosClientesABM'
--,'EstadosVentaABM'
--,'FormasPago'
--,'Vehiculos'
--,'InteresesABM'
--,'Localidades'
--,'ModelosVehiculos'
--,'Marcas'
--,'MediosdePagoABM'
--,'ObservacionesABM'
--,'Productos'
--,'ProductosSucursales'
--,'ProspectosABM'
--,'Proveedores'
--,'ProveedoresConsultas'
--,'Rubros'
--,'SubRubrosABM'
--,'Sucursales'
--,'TarjetasABM'
--,'PlanesTarjetasABM'
--,'ProductosABM'
--,'Transportistas'
--,'TransportistasConsultas'
--,'UnidadesDeMedidas'
--,'ZonasGeograficas'
--,'ProductosActualizacionMasiva'
--,'ProductosBajaMasiva'
--,'InfAuditoriaClientes'
--,'InfAuditoriaProductos'
--,'TiposMovimientosABM'
--,'TiposAdjuntosABM'
--,'TiposClientesABM'
--,'TiposContactosABM'
--,'TiposDoc'
--,'TiposVehiculosABM'
--,'LibroBancos'
--,'InfMovimientosBancarios'
--,'CuentasBancos'
--,'Bancos ABM'
--,'CuentasBancarias'
--,'ConsultarSaldosDeLibrosBancos'
--,'DepositosBancarios'
--,'AnularDepositos'
--,'ConsultarDepositos'
--,'PlanillaDeCaja'
--,'CerrarPlanillaDeCaja'
--,'CajasNombresABM'
--,'ConsultarMovimientosCaja'
--,'ResumenDeCaja'
--,'MayorDeCuentaDeCaja'
--,'CuentasDeCajas'
--,'ChequesDeTercerosABM'
--,'InformeChequesDeTerceros'
--,'InfChequesADepositar'
--,'InformeHistoricoCheques'
--,'ChequesPropios'
--,'InformeChequesPropios'
--,'ConsultarPlanillas'
--,'InfTarjetasCupones'
--,'InfHistoricoTarjetasCupones'
--,'ChequesMovimientosSucursales'
--,'ProductosCalidadABM'
--,'Categoria-NivelAutorizacion'
--,'Clientes-NivelAutorizacion'
--,'InfTotalVentasPorVendedor'
--,'InfTotalMarcasVtasPorVendedor'
--,'InfDetalleVentasPorVendedor'
--,'MovimientosDeComprasV2'
--,'LibrodeIvaCompras'
--,'LibrodeIvaComprasV2'
--,'ResumenPorComprobanteCompras'
--,'ConsultarCompras'
--,'InfComprasDetallePorProductos'
--,'ModificarCompras'
--,'EliminarCompras'
--,'RubrosCompras'
--,'Impresoras'
--,'ParametrosDelUsuario'
--,'ParametrosSucursalesABM'
--,'ImpresorasAComprobantes'
--,'ImpresorasAComprobantesABM'
--,'PersonalizacionDeInformes'
--,'ArchivosAImprimirABM'
--,'SemaforoVentasUtilidadesABM'
--,'ConfiguracionServiciosSSS'
--,'UsuariosConfiguraciones'
--,'NumeradoresABM'
--,'AnulacionRecibosAClientes'
--,'EliminarMovCtaCteClientes'
--,'EliminarRecibosDeClientes'
--,'ModificarComprobantesDeCtaCte'
--,'InfCtaCteDetalleClientes'
--,'InfCtaCteDetalleProximoPago'
--,'ConsultarCtaCteDetClientesDH'
--,'RecibosNuevos'
--,'RecibosVinculados'
--,'GenerarMinutas'
--,'SaldosCtaCteClientes'
--,'InfCtaCteClientes'
--,'ConsultarCtaCteClientesDH'
--,'Kardex'
--,'ConsultarRecibosAClientes'
--,'InfTarjetasRecibos'
--,'RegistrarMovCtaCteClientes'
--,'ImportarCtasCtesClientes'
--,'ConsultaNumeracionCtaCte'
--,'PagosAProveedores'
--,'AnularPagosAProveedores'
--,'SaldosCtaCteProveedores'
--,'ConsultarCtaCteProveedores'
--,'InfCtaCteProveedores'
--,'InfComprobCtaCteProvFecha'
--,'ConsultarCtaCteProveedoresDH'
--,'ConsultarCtaCteDetalleProv'
--,'InfCtaCteDetalleProveedores'
--,'ConsultarCtaCteDetProveedorDH'
--,'KardexProveedores'
--,'ConsultarPagosAProveedores'
--,'RegistrarMovCtaCteProveedores'
--,'EliminarMovCtaCteProveedores'
--,'ImportarCtasCtesProveedores'
--,'Empleados-NivelAutorizacion'
--,'SolicitarCAE'
--,'ConsultarUltimoComprobante'
--,'ConsultarComprobantesEmitidos'
--,'ConsultarCAE'
--,'ConsultarCAI'
--,'ConsultarTablasAFIP'
--,'TesteaServidoresAFIP'
--,'ImportarFichas'
--,'InfKilosTotalesPorVendedor'
--,'InfKilosTotalesPorCliente'
--,'InfKilosTotalesPorMarcas'
--,'InfKilosDetallePorProductos'
--,'PedidosClientesV2'
--,'ConsultarPedidos'
--,'AnularPedidos'
--,'EliminarPedidos'
--,'PedidosAdmin'
--,'EstadosPedidosABM'
--,'InfPedidosDetallados'
--,'InfPedidosFacturados'
--,'PedidosProveedores'
--,'ConsultarPedidosProv'
--,'AnularPedidosProv'
--,'PedidosAdminProv'
--,'EstadosPedidosProvABM'
--,'InfPedidosDetalladosProv'
--,'ActualizarPreciosV2'
--,'ConsultarPrecios'
--,'ListaDeCostos'
--,'ListaDePrecios'
--,'ListaDePreciosABM'
--,'ListaDePreciosParaClientes'
--,'ClientesListaDePreciosMarca'
--,'ConsultarClienteMarcaLDePrecio'
--,'EmisionDeEtiquetasDePrecios'
--,'InformeDescuentosMarcas'
--,'ClientesDescuentosMarcasGrilla'
--,'ClientesDescuentosSubRubros'
--,'InformeDescuentosProductos'
--,'ClientesDescuentosMarcas'
--,'PlantillasPreciosABM'
--,'FormatosEtiquetasABM'
--,'Tareas'
--,'ProductoCambiarCod'
--,'CambiarCodCliente'
--,'ConsultarCodigosLibres'
--,'ProveedorCambiarCod'
--,'ProductoUnificarCodigos'
--,'ProductoCopiarCod'
--,'ImportarClientesExcel'
--,'ImportarClientesContactosExcel'
--,'ImportarProductosExcel'
--,'ImportarProductosExcelListMult'
--,'ImportarProdPlantillaExcel'
--,'ImportarProveedoresExcel'
--,'EnvioMasivoDeCorreos'
--,'Proveedores-NivelAutorizacion'
--,'SegFunciones'
--,'SegRoles'
--,'SegUsuarios'
--,'SegFunRol'
--,'SegUsuRol'
--,'ConsultaRolesDeUsuarios'
--,'Backups'
--,'InfAccesosDeUsuarios'
--,'MovimientosDeStock'
--,'DetalleMovimientosDeProductos'
--,'InfResumenMovimDeProductos'
--,'InformedeStock'
--,'InfStockPorModelo'
--,'AjusteMasivoDeStock'
--,'LimpiarStock'
--,'BlanquearStock'
--,'Sucursales-LimpiaSucursal'
--,'FacturacionV2'
--,'FacturacionRapida'
--,'ImpresionMasiva'
--,'InformeDeVentas'
--,'ConsultarFacturables'
--,'ConsultarFacturablesDetalle'
--,'ImpresionTicketFiscal'
--,'InfTarjetasPorVentas'
--,'InfVentasSumaPorProductos'
--,'InfVentasSumaPorRubros'
--,'InfVentasSumaPorMarcas'
--,'InfVentasDetallePorProductos'
--,'ConsultaNumeracionVentas'
--,'Kilos'
--,'AnularComprobantes'
--,'AnularComprobantesSinEmitir'
--,'ModificarNumeracionVentas'
--,'LibrodeIvaVentas'
--,'InfResumenDeVentas'
--,'CierreZ'
--,'InfUtilidadesPorMarca'
--,'InfUtilidadesPorProducto'
--,'AFIP'
--,'Archivos'
--,'ArchivosActualiazMasivas'
--,'ArchivosAuditorias'
--,'ArchivosTipos'
--,'Bancos'
--,'Caja'
--,'Calidad'
--,'Categorias'
--,'Clientes'
--,'ComisionesVendedores'
--,'Compras'
--,'Configuraciones'
--,'CtaCteAnulModifElim'
--,'CtaCteListVencimiento'
--,'CuentasCorrientes'
--,'CuentasCorrientesProveedores'
--,'Empleados'
--,'FacturacionElectronica'
--,'Fichas'
--,'Kilos'
--,'Pedidos'
--,'PedidosProv'
--,'Precios'
--,'Procesos'
--,'Proveedores'
--,'Seguridad'
--,'Stock'
--,'Sucursales'
--,'Ventas'
--,'VentasAnulModifElim'
--,'VentasFiscal'
--,'VentasUtilidades'
--)

PRINT '1. Bitacora'
DELETE Bitacora
where IdFuncion in
 (
SELECT id FROM [Funciones]
 where Express = 'N'
 )
;


PRINT ''
PRINT '2. Traducciones'
DELETE Traducciones
where IdFuncion in
 (
SELECT id FROM [Funciones]
 where Express = 'N'
 )
;

PRINT ''
PRINT '3. RolesFunciones'
DELETE RolesFunciones 
where IdFuncion in
 (
SELECT id FROM [Funciones]
 where Express = 'N'
 )
;

PRINT '3. HistorialPrecios'
DELETE HistorialPrecios 
where IdFuncion in
 (
SELECT id FROM [Funciones]
 where Express = 'N'
 )
;

PRINT ''
PRINT '4. Funciones'
DELETE [Funciones]
 where Express = 'N'
GO

--PRINT ''
--PRINT '5. Actualizo Funciones Ocultas'
--update Funciones
--set Visible = 1
--where Visible = 0

--update Funciones
--set Enabled = 1
--where Enabled = 0

--update Funciones
--set EsMenu = 1
--where EsMenu = 0
--and id <>  (
--SELECT id FROM [Funciones]
-- where Nombre = 'Limpia Sucursal'
 )
 
